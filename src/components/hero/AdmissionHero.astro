---
import { Image } from 'astro:assets';
import heroImage from '@assets/images/hero/about_organization.webp';
---

<section 
    class="relative min-h-[70dvh] h-screen flex items-center justify-center overflow-hidden bg-gradient-to-b from-gray-950/20 to-gray-900/5"
    style="content-visibility: auto;"
    aria-labelledby="admission-hero-title"
>
    <!-- Fondo -->
    <div class="absolute inset-0">
        <Image
            src={heroImage}
            alt="Vista histórica del Seminario mostrando su legado y tradición"
            class="w-full h-full object-cover opacity-75"
            loading="eager"
            fetchpriority="high"
            decoding="async"
            quality={90}
            format="webp"
            widths={[375, 640, 768, 1024, 1280, 1536, 1920]}
            sizes="100vw"
        />
        <div 
            class="absolute inset-0 bg-dot-pattern opacity-30"
            aria-hidden="true"
        ></div>
    </div>

    <!-- Contenedor principal -->
    <div class="relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-28">
        <div class="max-w-3xl mx-auto text-center">
            <!-- Etiqueta superior -->
            <div class="inline-flex items-center justify-center space-x-2 mb-6 animate-fade-in">
                <div class="h-[1px] w-8 bg-gradient-to-r from-transparent via-primary to-transparent"></div>
                <span class="px-4 py-2 rounded-full bg-primary/20 text-sm font-medium text-white/90 tracking-wider border border-primary/30">
                    Admisión 2025
                </span>
                <div class="h-[1px] w-8 bg-gradient-to-r from-transparent via-primary to-transparent"></div>
            </div>

            <!-- Título principal -->
            <h1 
                id="admission-hero-title" 
                class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white leading-tight tracking-tight mb-6 animate-title"
            >
                Postula y sé 
                <span class="relative whitespace-nowrap">
                    <svg aria-hidden="true" viewBox="0 0 418 42" class="absolute left-0 top-full h-[0.4em] w-full fill-primary/40" preserveAspectRatio="none">
                        <path d="M203.371.916c-26.013-2.078-76.686 1.963-124.73 9.946L67.3 12.749C35.421 18.062 18.2 21.766 6.004 25.934 1.244 27.561.828 27.778.874 28.61c.07 1.214.828 1.121 9.595-1.176 9.072-2.377 17.15-3.92 39.246-7.496C123.565 7.986 157.869 4.492 195.942 5.046c7.461.108 19.25 1.696 19.17 2.582-.107 1.183-7.874 4.31-25.75 10.366-21.992 7.45-35.43 12.534-36.701 13.884-2.173 2.308-.202 4.407 4.442 4.734 2.654.187 3.263.157 15.593-.78 35.401-2.686 57.944-3.488 88.365-3.143 46.327.526 75.721 2.23 130.788 7.584 19.787 1.924 20.814 1.98 24.557 1.332l.066-.011c1.201-.203 1.53-1.825.399-2.335-2.911-1.31-4.893-1.604-22.048-3.261-57.509-5.556-87.871-7.36-132.059-7.842-23.239-.254-33.617-.116-50.627.674-11.629.54-42.371 2.494-46.696 2.967-2.359.259 8.133-3.625 26.504-9.81 23.239-7.825 27.934-10.149 28.304-14.005.417-4.348-3.529-6-16.878-7.066Z" />
                    </svg>
                    <span class="relative text-secundary">un Líder</span>
                </span>
                transformador
            </h1>

            <!-- Scroll indicator -->
            <div class="absolute bottom-8 inset-x-0 flex items-center justify-center animate-bounce">
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    class="h-6 w-6 text-white/70"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path 
                        stroke-linecap="round" 
                        stroke-linejoin="round" 
                        stroke-width="2" 
                        d="M19 14l-7 7m0 0l-7-7m7 7V3"
                    />
                </svg>
            </div>
        </div>
    </div>

    <!-- Superposiciones de gradiente -->
    <div 
        class="hidden lg:block absolute top-0 left-0 w-full h-[40%] bg-gradient-to-b from-black via-neutral-950/50 to-transparent"
        aria-hidden="true"
    ></div>
    <div 
        class="absolute top-0 -z-10 left-0 w-full h-full bg-black"
        aria-hidden="true"
    ></div>
</section>

<style>
    .bg-dot-pattern {
        background-image: radial-gradient(rgba(153, 0, 51, 0.15) 1px, transparent 1px);
        background-size: 32px 32px;
    }

    /* Animaciones optimizadas */
    @media (prefers-reduced-motion: no-preference) {
        .animate-title {
            opacity: 0;
            animation: fade-slide-up 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }

        .animate-fade-in {
            opacity: 0;
            animation: fade-in 0.5s ease-out forwards;
            animation-delay: 0.3s;
        }

        @keyframes fade-slide-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Optimizaciones de rendimiento */
        .animate-title,
        .animate-fade-in {
            will-change: transform, opacity;
            backface-visibility: hidden;
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .animate-title,
        .animate-fade-in,
        .animate-bounce,
        .transition-all,
        .transition-transform {
            animation: none !important;
            transition: none !important;
            transform: none !important;
            opacity: 1 !important;
        }
    }
</style>